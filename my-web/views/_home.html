
{{template "header" .}}

<section style="padding: 12px;">
    <div>
        <Card :style="{'width':'80%','margin-left': '10%','margin-top': '0px'}" :bordered="false" :dis-hover="true" >
            <template #title>
                <Icon type="ios-star" size="20" class="card-title-icon"></Icon>
                <span class="card-title">标星</span>
            </template>
            <p class="card-child" v-for="item2 in collectList">
                <Icon type="ios-star" style="color:#620fad" class="card-child-star" @click="collect(item2.id)"></Icon>
                <a :href="item2.url">
                    <span v-html="item2.name" class="card-child-name"></span>
                </a>
            </p>
        </Card>

        <Card :style="{'width':'80%','margin-left': '10%','margin-top': '75px'}" :bordered="false" :dis-hover="true" v-for="(item, idx) in menuList">
            <template #title>
                <Icon :type="item.icon" size="20" class="card-title-icon"></Icon>
                <span class="card-title" v-html="item.title"></span>
            </template>
            <p class="card-child" v-for="item2 in item.list" v-show="collectMenuIdArr.indexOf(item2.id+'') == -1">
                <Icon type="ios-star-outline" class="card-child-star" @click="collect(item2.id)"></Icon>
                <a :href="item2.url">
                    <span v-html="item2.name" class="card-child-name"></span>
                </a>
            </p>
        </Card>

        <!--<Icon type="ios-bonfire" style="color: #f5a623" size="20"></span></Icon>-->
        <!--<span style="color: #f5a623" v-html="item.rate">-->
        <!--<Icon type="ios-star-outline" style="color: #f5a623" size="20"></Icon>-->
    </div>
</section>

<script>

    var render = {
        data () {
            return {
                menuList: [
                    {
                        icon:'ios-planet',
                        title:'格式转换',
                        list:[
                            {
                                id: 101,
                                name: '时间戳转换',
                                url: '/timestamp',
                                rate: 1.1
                            },
                            {
                                id: 102,
                                name: 'Json 格式化',
                                url: '/json',
                                rate: 4.5
                            },
                            {
                                id: 103,
                                name: 'HTML 格式化',
                                url: '/html',
                                rate: 0.4
                            },
                            {
                                id: 104,
                                name: 'Md5 加密',
                                url: '/md5',
                                rate: 0.4
                            },
                            {
                                id: 105,
                                name: 'URL 解码',
                                url: '/url',
                                rate: 0.1
                            },
                            {
                                id: 106,
                                name: 'Base64 解码',
                                url: '/base64',
                                rate: 0.1
                            },
                            {
                                id: 107,
                                name: 'UTF-8 解码',
                                url: '/utf8',
                                rate: 0.1
                            }
                        ]
                    },
                    {
                        icon:'ios-funnel',
                        title:'数据处理',
                        list:[
                            {
                                id: 201,
                                name: '计算器',
                                url: '/data-calculator',
                                rate: 0.4
                            },
                            {
                                id: 202,
                                name: '数据对比',
                                url: '/data-diff',
                                rate: 2.1
                            },
                            {
                                id: 203,
                                name: '数据过滤',
                                url: '/data-filter',
                                rate: 0.4
                            },
                            {
                                id: 204,
                                name: 'Markdown',
                                url: '/markdown',
                                rate: 0.1
                            },
                            {
                                id: 205,
                                name: 'Json to GoStruct',
                                url: '/json2gostruct',
                                rate: 0.1
                            },
                        ]
                    },
                    {
                        icon:'ios-infinite',
                        title:'TPX',
                        list:[
                            {
                                id: 301,
                                name: 'AES 传输加解密',
                                url: '/aes',
                                rate: 1.3
                            },
                            {
                                id: 302,
                                name: 'AES 价格加解密',
                                url: '/price',
                                rate: 0.2
                            },
                            {
                                id: 303,
                                name: 'Ad Exchange',
                                url: '/adx',
                                rate: 0.4
                            },
                            {
                                id: 304,
                                name: 'Ad Exchange CN',
                                url: '/adx/cn',
                                rate: 0.5
                            },
                            {
                                id: 305,
                                name: 'GeoIp 解析',
                                url: '/gepip',
                                rate: 0.1
                            },
                        ]
                    },
                    {
                        icon:'ios-chatboxes',
                        title:'扩展',
                        list:[
                            {
                                id: 401,
                                name: 'IP 查询',
                                url: '/ip',
                                rate: 0.1
                            },
                            {
                                id: 402,
                                name: '经纬度定位',
                                url: '/map',
                                rate: 0.1
                            },
                        ]
                    }
                ],
                collectList:[],
                collectMenuIdArr:[]
            }
        },
        watch: {

        },
        methods: {
            collect(t) {
                collectMenuIdArr = this.getCollectMenuIdArr()
                idx = collectMenuIdArr.indexOf(t+"")
                if (idx > -1) {
                    collectMenuIdArr.splice(idx, 1)
                } else {
                    collectMenuIdArr.push(t+"")
                }
                collectMenuIds = collectMenuIdArr.join(",")
                $.cookie('CollectMenuIds', collectMenuIds);
                this.updateCollectList()
            },
            updateCollectList() {
                this.collectMenuIdArr = this.getCollectMenuIdArr()
                this.collectList = []
                this.menuList.forEach((item,idx) => {
                    item.list.forEach((item2,idx2) => {
                        if (this.collectMenuIdArr.indexOf(item2.id+"") > -1) {
                            this.collectList.push(item2)
                        }
                    })
                })
            },
            getCollectMenuIdArr() {
                collectMenuIds = $.cookie('CollectMenuIds')
                if (collectMenuIds === undefined) {
                    collectMenuIds = ""
                }
                return collectMenuIds.split(",")
            }
        },
        mounted(){
            this.updateCollectList()
        }
    }
</script>

{{template "footer" .}}

<style>
    a {
        color: #515a6e;
    }

    .card-child {
        width: 200px;
        margin-top: 5px;
        margin-left: 10px;
        display: inline;
        float: left;
        background-color: #FFFFFF;
        padding: 6px;
        border-radius: 4px;
        border: 1px solid #e3c5ff;
    }

    .card-child:hover{
        border: 1px solid #620fad;
    }

    .card-child-name {
        float: left;
        margin-left: 5px;
    }

    .card-child-name:hover {
        font-weight: 400;
        color: #515a6e;
    }

    .card-child-star {
        float: left;
        font-size: 16px;
        margin-top: 2px;
        cursor: pointer;
    }

    .card-child-star:hover{
        color: #620fad;
    }
</style>
